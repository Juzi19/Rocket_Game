<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="shortcut icon" href="./rocket.png" type="image/x-icon">
</head>
<body>
    <div class="container_center_2">
        <img src="./coin.png" alt="Münze">
        <h1>Top 10 Leaderboard</h1>
        <ul id="leaderboard2">
            <!--Top 10 list items-->
        </ul>
        <a href="/" style="padding: 0.7rem;">Zurück zum Spiel</a>
    </div>
    
    <script>
        async function fetchTop10() {
            try {
                const response = await fetch('/api/leaders');
                if (!response.ok) {
                    throw new Error(`Fehler: ${response.status}`);
                }

                const data = await response.json();
                displayLeaderboard(data);
            } catch (error) {
                console.error('Fehler beim Abrufen der Top-10-Daten:', error);
            }
        }

        function displayLeaderboard(entries) {
            const leaderboard = document.getElementById('leaderboard2');
            leaderboard.innerHTML = ''; // clear previous items
            entries.forEach((entry, index) => {
                const listItem = document.createElement('li');
                listItem.textContent = `${index + 1}. ${entry.name} - ${entry.coins} Coins`;
                leaderboard.appendChild(listItem);
            });
        }

    // fetches and shows data
    fetchTop10();



    </script>
</body>
</html>